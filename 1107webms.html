<!DOCTYPE html>
<html>
<head>
    <title>끝말잇기 게임</title>
    <script>
        var word; // 현재 단어
        var check; // 사용자의 단어

        const apiKey = "70CC1FC3124B295243C5C5BA5ED72FF3"

        function start() {
            word = document.getElementById('start').value;
            document.getElementById('word').innerText = word;
        }

        function game() {
            check = document.getElementById('input').value;
            if(word[word.length - 1] === check[0]) {
                // 사전에 있는 단어인지 확인하는 코드를 추가
                fetch(`http://opendict.korean.go.kr/api/search?certkey_no=4989&key=${apiKey}&target_type=search&req_type=json&part=word&q=${word}&sort=dict&start=1&num=10`)
                .then(res => res.json())
                .then(data => {
                    if(console.log(data.channel.item[0].word.replace('-',' ')).length > 0) {
                        word = check;
                        document.getElementById('word').innerText = word;
                        document.getElementById('result').innerText = '정답입니다!';
                    } else {
                        document.getElementById('result').innerText = '틀렸습니다!1';
                    }
                })
                .catch(error => {
                    console.error('Error:', error);
                });
            } else {
                document.getElementById('result').innerText = '틀렸습니다!2';
            }
        }
    </script>
</head>
<body>
    <input id="start" type="text" placeholder="시작 단어를 입력하세요">
    <button onclick="start()">시작</button>
    <div id="word"></div>
    <input id="input" type="text" placeholder="단어를 입력하세요">
    <button onclick="game()">입력</button>
    <div id="result"></div>
</body>
</html>
